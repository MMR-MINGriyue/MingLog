# 📋 MingLog 项目概览

## 🎯 项目定位

MingLog 是一个现代化的知识管理工具，专注于提供高性能、易用的笔记和知识组织体验。

### 核心价值主张
- **本地优先**: 数据完全掌控在用户手中
- **高性能**: 快速启动，流畅操作
- **现代化**: 基于最新的 Web 技术栈
- **可扩展**: 模块化架构，易于扩展

## 🏗️ 技术架构

### 架构设计原则
1. **模块化**: 清晰的包分离，职责单一
2. **类型安全**: 100% TypeScript 覆盖
3. **性能优先**: 优化启动时间和运行效率
4. **开发体验**: 快速热更新，完整工具链

### 核心技术栈

#### 前端层
- **React 18**: 现代化的用户界面框架
- **TypeScript**: 类型安全的 JavaScript 超集
- **Vite**: 快速的构建工具和开发服务器
- **Tailwind CSS**: 实用优先的 CSS 框架

#### 数据层
- **SQLite**: 轻量级的本地数据库
- **Prisma**: 现代化的数据库 ORM
- **Zustand**: 轻量级的状态管理

#### 工具链
- **Turbo**: 高性能的 monorepo 构建系统
- **pnpm**: 快速、节省磁盘空间的包管理器
- **ESLint**: 代码质量检查
- **Prettier**: 代码格式化

## 📦 包结构

### 应用层 (`apps/`)

#### `apps/web`
- **作用**: React Web 应用主体
- **技术**: React + Vite + Tailwind CSS
- **功能**: 用户界面、路由、状态管理

#### `apps/desktop`
- **作用**: Electron 桌面应用
- **技术**: Electron + React
- **功能**: 桌面应用打包和分发

#### `apps/api`
- **作用**: Express API 服务器
- **技术**: Express.js + TypeScript
- **功能**: 数据 API 接口

### 包层 (`packages/`)

#### `packages/core`
- **作用**: 核心业务逻辑
- **功能**: 数据模型、服务层、业务规则
- **依赖**: database, search

#### `packages/database`
- **作用**: 数据库操作层
- **功能**: Prisma 客户端、数据库迁移
- **技术**: Prisma + SQLite

#### `packages/ui`
- **作用**: UI 组件库
- **功能**: 可复用的 React 组件
- **技术**: React + Tailwind CSS + Headless UI

#### `packages/editor`
- **作用**: 块编辑器
- **功能**: 富文本编辑、块级操作
- **技术**: TipTap + React

#### `packages/search`
- **作用**: 搜索引擎
- **功能**: 全文搜索、索引管理
- **技术**: 自定义搜索算法

## 🔄 数据流

### 用户操作流程
1. **用户交互** → UI 组件 (`packages/ui`)
2. **编辑操作** → 编辑器 (`packages/editor`)
3. **业务逻辑** → 核心服务 (`packages/core`)
4. **数据持久化** → 数据库层 (`packages/database`)
5. **搜索索引** → 搜索引擎 (`packages/search`)

### 状态管理
- **本地状态**: React useState/useReducer
- **全局状态**: Zustand stores
- **服务器状态**: React Query
- **持久化**: SQLite 数据库

## 🚀 开发工作流

### 开发环境
```bash
pnpm install          # 安装依赖
pnpm db:generate      # 生成数据库
pnpm dev              # 启动开发服务器
```

### 构建流程
```bash
pnpm build            # 构建所有包
pnpm web:build        # 构建 Web 应用
pnpm desktop:build    # 构建桌面应用
```

### 测试流程
```bash
pnpm test             # 运行所有测试
pnpm test:unit        # 单元测试
pnpm test:e2e         # 端到端测试
```

## 📊 性能目标

### 启动性能
- **Web 应用**: < 3 秒首屏加载
- **桌面应用**: < 5 秒启动时间
- **热更新**: < 3 秒开发环境更新

### 运行性能
- **内存占用**: < 120MB 运行时内存
- **包大小**: < 50MB 应用体积
- **响应时间**: < 100ms 用户操作响应

### 构建性能
- **增量构建**: < 10 秒
- **完整构建**: < 30 秒
- **依赖安装**: < 60 秒

## 🔮 未来规划

### 短期目标 (1-3 个月)
- ✅ 完善核心编辑功能
- ✅ 优化性能和用户体验
- ✅ 完善桌面应用打包
- 🔄 添加数据导入导出功能

### 中期目标 (3-6 个月)
- 📋 图谱可视化功能
- 📋 插件系统架构
- 📋 移动端适配
- 📋 云同步功能

### 长期目标 (6-12 个月)
- 📋 协作功能
- 📋 AI 辅助功能
- 📋 多语言支持
- 📋 企业版功能

## 📈 项目指标

### 代码质量
- **TypeScript 覆盖率**: 100%
- **测试覆盖率**: > 80%
- **ESLint 规则**: 严格模式
- **代码重复率**: < 5%

### 开发效率
- **热更新时间**: < 3 秒
- **构建时间**: < 30 秒
- **部署时间**: < 5 分钟
- **问题修复时间**: < 24 小时

---

*最后更新: 2025-06-26*
