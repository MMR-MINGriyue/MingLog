# MingLog æ¨¡å—å¼€å‘æ¨¡æ¿

è¿™æ˜¯ MingLog æ¨¡å—çš„æ ‡å‡†å¼€å‘æ¨¡æ¿ï¼Œæä¾›äº†ç»Ÿä¸€çš„ç›®å½•ç»“æ„ã€æ¥å£å®šä¹‰å’Œå¼€å‘è§„èŒƒã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
module-template/
â”œâ”€â”€ package.json              # æ¨¡å—åŒ…é…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â”œâ”€â”€ README.md                 # æ¨¡å—æ–‡æ¡£
â”œâ”€â”€ CHANGELOG.md              # å˜æ›´æ—¥å¿—
â”œâ”€â”€ src/                      # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ index.ts              # æ¨¡å—ä¸»å…¥å£
â”‚   â”œâ”€â”€ ModuleTemplate.ts     # æ¨¡å—ä¸»ç±»
â”‚   â”œâ”€â”€ types/                # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ index.ts          # ç±»å‹å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ module.ts         # æ¨¡å—ç›¸å…³ç±»å‹
â”‚   â”‚   â”œâ”€â”€ api.ts            # API æ¥å£ç±»å‹
â”‚   â”‚   â””â”€â”€ events.ts         # äº‹ä»¶ç±»å‹
â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ index.ts          # æœåŠ¡å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ ModuleService.ts  # ä¸»è¦ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ ApiService.ts     # API æœåŠ¡
â”‚   â”œâ”€â”€ components/           # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts          # ç»„ä»¶å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ widgets/          # å°éƒ¨ä»¶ç»„ä»¶
â”‚   â”‚   â””â”€â”€ common/           # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/                # React Hooks
â”‚   â”‚   â”œâ”€â”€ index.ts          # Hooks å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ useModuleData.ts  # æ•°æ®ç®¡ç† Hook
â”‚   â”‚   â””â”€â”€ useModuleState.ts # çŠ¶æ€ç®¡ç† Hook
â”‚   â”œâ”€â”€ stores/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts          # Store å¯¼å‡º
â”‚   â”‚   â””â”€â”€ moduleStore.ts    # æ¨¡å—çŠ¶æ€
â”‚   â”œâ”€â”€ adapters/             # å¹³å°é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ index.ts          # é€‚é…å™¨å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ TauriAdapter.ts   # Tauri å¹³å°é€‚é…
â”‚   â”‚   â””â”€â”€ WebAdapter.ts     # Web å¹³å°é€‚é…
â”‚   â”œâ”€â”€ routes/               # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ index.ts          # è·¯ç”±å¯¼å‡º
â”‚   â”‚   â””â”€â”€ moduleRoutes.ts   # æ¨¡å—è·¯ç”±
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ index.ts          # å·¥å…·å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ helpers.ts        # è¾…åŠ©å‡½æ•°
â”‚   â”‚   â””â”€â”€ validators.ts     # éªŒè¯å‡½æ•°
â”‚   â”œâ”€â”€ constants/            # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ index.ts          # å¸¸é‡å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ config.ts         # é…ç½®å¸¸é‡
â”‚   â”‚   â””â”€â”€ events.ts         # äº‹ä»¶å¸¸é‡
â”‚   â””â”€â”€ assets/               # é™æ€èµ„æº
â”‚       â”œâ”€â”€ icons/            # å›¾æ ‡
â”‚       â”œâ”€â”€ images/           # å›¾ç‰‡
â”‚       â””â”€â”€ styles/           # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ tests/                    # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                 # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/          # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ __mocks__/            # æ¨¡æ‹Ÿæ•°æ®
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ api.md                # API æ–‡æ¡£
â”‚   â”œâ”€â”€ usage.md              # ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ development.md        # å¼€å‘æŒ‡å—
â””â”€â”€ examples/                 # ç¤ºä¾‹ä»£ç 
    â”œâ”€â”€ basic-usage.tsx       # åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
    â””â”€â”€ advanced-usage.tsx    # é«˜çº§ä½¿ç”¨ç¤ºä¾‹
```

## ğŸ”§ å¼€å‘è§„èŒƒ

### 1. æ¨¡å—æ¥å£è§„èŒƒ

æ¯ä¸ªæ¨¡å—å¿…é¡»å®ç° `IModule` æ¥å£ï¼š

```typescript
interface IModule {
  id: string                    // æ¨¡å—å”¯ä¸€æ ‡è¯†
  name: string                  // æ¨¡å—æ˜¾ç¤ºåç§°
  version: string               // æ¨¡å—ç‰ˆæœ¬
  description: string           // æ¨¡å—æè¿°
  icon?: string                 // æ¨¡å—å›¾æ ‡
  dependencies?: string[]       // ä¾èµ–çš„å…¶ä»–æ¨¡å—
  
  // ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
  initialize(): Promise<void>   // åˆå§‹åŒ–
  activate(): Promise<void>     // æ¿€æ´»
  deactivate(): Promise<void>   // åœç”¨
  destroy(): Promise<void>      // é”€æ¯
  
  // é…ç½®ç®¡ç†
  getConfig(): ModuleConfig     // è·å–é…ç½®
  setConfig(config: Partial<ModuleConfig>): void  // è®¾ç½®é…ç½®
  
  // è·¯ç”±æ³¨å†Œ
  getRoutes(): RouteConfig[]    // è·å–è·¯ç”±é…ç½®
  
  // èœå•æ³¨å†Œ
  getMenuItems(): MenuItem[]    // è·å–èœå•é¡¹
  
  // äº‹ä»¶å¤„ç†
  onEvent(event: ModuleEvent): void  // å¤„ç†äº‹ä»¶
}
```

### 2. å‘½åè§„èŒƒ

- **æ–‡ä»¶å‘½å**: ä½¿ç”¨ PascalCase (å¦‚ `ModuleService.ts`)
- **ç»„ä»¶å‘½å**: ä½¿ç”¨ PascalCase (å¦‚ `NoteEditor`)
- **Hookå‘½å**: ä½¿ç”¨ camelCaseï¼Œä»¥ `use` å¼€å¤´ (å¦‚ `useModuleData`)
- **å¸¸é‡å‘½å**: ä½¿ç”¨ UPPER_SNAKE_CASE (å¦‚ `MODULE_EVENTS`)
- **ç±»å‹å‘½å**: ä½¿ç”¨ PascalCaseï¼Œæ¥å£ä»¥ `I` å¼€å¤´ (å¦‚ `IModuleConfig`)

### 3. å¯¼å‡ºè§„èŒƒ

æ¯ä¸ªç›®å½•éƒ½åº”è¯¥æœ‰ `index.ts` æ–‡ä»¶ç»Ÿä¸€å¯¼å‡ºï¼š

```typescript
// src/index.ts - æ¨¡å—ä¸»å…¥å£
export { default as ModuleTemplate } from './ModuleTemplate'
export * from './types'
export * from './services'
export * from './components'
export * from './hooks'
export * from './utils'
export * from './constants'
```

### 4. ç±»å‹å®šä¹‰è§„èŒƒ

- æ‰€æœ‰å…¬å…±æ¥å£éƒ½è¦æœ‰å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- ä½¿ç”¨ JSDoc æ³¨é‡Šæè¿°å¤æ‚ç±»å‹
- å¯¼å‡ºæ‰€æœ‰éœ€è¦è¢«å¤–éƒ¨ä½¿ç”¨çš„ç±»å‹

### 5. é”™è¯¯å¤„ç†è§„èŒƒ

- ä½¿ç”¨ç»Ÿä¸€çš„é”™è¯¯ç±»å‹å’Œé”™è¯¯ç 
- æ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½è¦æœ‰é”™è¯¯å¤„ç†
- æä¾›æœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯

### 6. æµ‹è¯•è§„èŒƒ

- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- å…³é”®ä¸šåŠ¡é€»è¾‘å¿…é¡»æœ‰æµ‹è¯•
- ä½¿ç”¨ Jest + React Testing Library

### 7. æ–‡æ¡£è§„èŒƒ

- README.md åŒ…å«æ¨¡å—ä»‹ç»ã€å®‰è£…ã€ä½¿ç”¨æ–¹æ³•
- API æ–‡æ¡£è¦å®Œæ•´æè¿°æ‰€æœ‰å…¬å…±æ¥å£
- æä¾›ä½¿ç”¨ç¤ºä¾‹

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºæ–°æ¨¡å—

```bash
# å¤åˆ¶æ¨¡æ¿
cp -r packages/modules/module-template packages/modules/your-module

# ä¿®æ”¹æ¨¡å—ä¿¡æ¯
cd packages/modules/your-module
# ç¼–è¾‘ package.json, README.md ç­‰æ–‡ä»¶
```

### 2. å¼€å‘æµç¨‹

1. **è®¾è®¡é˜¶æ®µ**: å®šä¹‰æ¨¡å—åŠŸèƒ½ã€æ¥å£ã€æ•°æ®ç»“æ„
2. **å®ç°é˜¶æ®µ**: æŒ‰ç…§ç›®å½•ç»“æ„å®ç°å„ä¸ªéƒ¨åˆ†
3. **æµ‹è¯•é˜¶æ®µ**: ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. **æ–‡æ¡£é˜¶æ®µ**: å®Œå–„ API æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—
5. **é›†æˆé˜¶æ®µ**: åœ¨ä¸»åº”ç”¨ä¸­é›†æˆå’Œæµ‹è¯•

### 3. å¼€å‘å·¥å…·

- `npm run dev`: å¼€å‘æ¨¡å¼
- `npm run build`: æ„å»ºæ¨¡å—
- `npm run test`: è¿è¡Œæµ‹è¯•
- `npm run lint`: ä»£ç æ£€æŸ¥
- `npm run docs`: ç”Ÿæˆæ–‡æ¡£

## ğŸ“‹ æ£€æŸ¥æ¸…å•

åœ¨æäº¤æ¨¡å—ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] å®ç°äº† `IModule` æ¥å£
- [ ] æ‰€æœ‰å…¬å…± API éƒ½æœ‰ TypeScript ç±»å‹å®šä¹‰
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- [ ] é€šè¿‡äº† ESLint æ£€æŸ¥
- [ ] å®Œå–„äº† README.md å’Œ API æ–‡æ¡£
- [ ] æä¾›äº†ä½¿ç”¨ç¤ºä¾‹
- [ ] åœ¨ä¸»åº”ç”¨ä¸­æµ‹è¯•é€šè¿‡

## ğŸ”— ç›¸å…³èµ„æº

- [æ¨¡å—ç®¡ç†å™¨æ–‡æ¡£](../core/README.md)
- [å¼€å‘æŒ‡å—](../../docs/developer-guide.md)
- [API å‚è€ƒ](../../docs/api-reference.md)
- [æœ€ä½³å®è·µ](../../docs/best-practices.md)
