# ğŸ“‹ MingLog æŠ€æœ¯è§„æ ¼ä¹¦

## ğŸ“Š é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®åç§°**: MingLog - ç°ä»£åŒ–ä¸ªäººçŸ¥è¯†ç®¡ç†æ¡Œé¢åº”ç”¨
**ç‰ˆæœ¬**: v1.0.0
**å¼€å‘å‘¨æœŸ**: 2024å¹´12æœˆ - 2025å¹´1æœˆ (5å‘¨)
**æŠ€æœ¯æ ˆ**: Tauri + Rust + React + TypeScript
**ç›®æ ‡å¹³å°**: Windows 10+, macOS 10.15+, Linux (Ubuntu 20.04+)

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  æœç´¢ç»„ä»¶   â”‚ â”‚  é¡µé¢ç®¡ç†   â”‚ â”‚  ç¼–è¾‘å™¨     â”‚ â”‚  è®¾ç½®é¢æ¿   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                        React + TypeScript
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Tauri Bridge                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  IPCé€šä¿¡    â”‚ â”‚  äº‹ä»¶ç³»ç»Ÿ   â”‚ â”‚  æ–‡ä»¶ç³»ç»Ÿ   â”‚ â”‚  ç³»ç»Ÿé›†æˆ   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                            Rust Backend
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä¸šåŠ¡é€»è¾‘å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  é¡µé¢æœåŠ¡   â”‚ â”‚  æœç´¢æœåŠ¡   â”‚ â”‚  æ–‡ä»¶æœåŠ¡   â”‚ â”‚  é…ç½®æœåŠ¡   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                            æ•°æ®è®¿é—®å±‚
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å­˜å‚¨å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SQLiteæ•°æ®åº“â”‚ â”‚  æ–‡ä»¶ç³»ç»Ÿ   â”‚ â”‚  é…ç½®æ–‡ä»¶   â”‚ â”‚  ç¼“å­˜ç³»ç»Ÿ   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆè¯¦ç»†è¯´æ˜

#### å‰ç«¯æŠ€æœ¯æ ˆ
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é€‰æ‹©ç†ç”± |
|------|------|------|----------|
| React | 18.2.0 | UIæ¡†æ¶ | æˆç†Ÿçš„ç»„ä»¶åŒ–å¼€å‘ï¼Œä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ |
| TypeScript | 5.0+ | ç±»å‹ç³»ç»Ÿ | æä¾›ç±»å‹å®‰å…¨ï¼Œæå‡å¼€å‘æ•ˆç‡ |
| Tailwind CSS | 3.0+ | æ ·å¼æ¡†æ¶ | å®ç”¨ä¼˜å…ˆï¼Œå¿«é€Ÿå¼€å‘ï¼Œæ˜“äºç»´æŠ¤ |
| Vite | 4.0+ | æ„å»ºå·¥å…· | å¿«é€Ÿçš„å¼€å‘æœåŠ¡å™¨å’Œæ„å»ºé€Ÿåº¦ |
| Vitest | 1.0+ | æµ‹è¯•æ¡†æ¶ | ä¸Viteé›†æˆè‰¯å¥½ï¼Œå¿«é€Ÿçš„æµ‹è¯•æ‰§è¡Œ |

#### åç«¯æŠ€æœ¯æ ˆ
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é€‰æ‹©ç†ç”± |
|------|------|------|----------|
| Tauri | 2.0+ | æ¡Œé¢åº”ç”¨æ¡†æ¶ | è½»é‡çº§ï¼Œå®‰å…¨æ€§é«˜ï¼Œæ€§èƒ½ä¼˜ç§€ |
| Rust | 1.70+ | ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ | å†…å­˜å®‰å…¨ï¼Œé«˜æ€§èƒ½ï¼Œå¹¶å‘æ”¯æŒ |
| SQLite | 3.40+ | åµŒå…¥å¼æ•°æ®åº“ | è½»é‡çº§ï¼Œæ— éœ€é…ç½®ï¼ŒACIDæ”¯æŒ |
| sqlx | 0.7+ | æ•°æ®åº“å·¥å…·åŒ… | å¼‚æ­¥æ”¯æŒï¼Œç¼–è¯‘æ—¶SQLæ£€æŸ¥ |
| tokio | 1.0+ | å¼‚æ­¥è¿è¡Œæ—¶ | é«˜æ€§èƒ½å¼‚æ­¥ç¼–ç¨‹æ”¯æŒ |

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ•°æ®åº“æ¶æ„

**æ•°æ®åº“ç±»å‹**: SQLite 3.40+
**è¿æ¥æ–¹å¼**: å¼‚æ­¥è¿æ¥æ±  (sqlx)
**äº‹åŠ¡æ”¯æŒ**: ACIDäº‹åŠ¡
**å¤‡ä»½ç­–ç•¥**: WALæ¨¡å¼ + å®šæœŸå¤‡ä»½

### æ ¸å¿ƒè¡¨ç»“æ„

#### 1. pages è¡¨ (é¡µé¢æ•°æ®)
```sql
CREATE TABLE pages (
    id TEXT PRIMARY KEY,
    title TEXT NOT NULL,
    content TEXT NOT NULL DEFAULT '',
    parent_id TEXT,
    position INTEGER DEFAULT 0,
    is_deleted BOOLEAN DEFAULT FALSE,
    created_at INTEGER NOT NULL,
    updated_at INTEGER NOT NULL,
    FOREIGN KEY (parent_id) REFERENCES pages(id)
);

-- ç´¢å¼•
CREATE INDEX idx_pages_parent_id ON pages(parent_id);
CREATE INDEX idx_pages_updated_at ON pages(updated_at);
CREATE INDEX idx_pages_title ON pages(title);
```

#### 2. blocks è¡¨ (å—æ•°æ®)
```sql
CREATE TABLE blocks (
    id TEXT PRIMARY KEY,
    page_id TEXT NOT NULL,
    type TEXT NOT NULL DEFAULT 'text',
    content TEXT NOT NULL DEFAULT '',
    position INTEGER DEFAULT 0,
    properties TEXT DEFAULT '{}',
    created_at INTEGER NOT NULL,
    updated_at INTEGER NOT NULL,
    FOREIGN KEY (page_id) REFERENCES pages(id) ON DELETE CASCADE
);

-- ç´¢å¼•
CREATE INDEX idx_blocks_page_id ON blocks(page_id);
CREATE INDEX idx_blocks_position ON blocks(page_id, position);
```

#### 3. å…¨æ–‡æœç´¢è¡¨ (FTS5)
```sql
CREATE VIRTUAL TABLE pages_fts USING fts5(
    title,
    content,
    content_rowid=id
);

-- è§¦å‘å™¨ä¿æŒFTSè¡¨åŒæ­¥
CREATE TRIGGER pages_fts_insert AFTER INSERT ON pages BEGIN
    INSERT INTO pages_fts(rowid, title, content)
    VALUES (new.rowid, new.title, new.content);
END;

CREATE TRIGGER pages_fts_update AFTER UPDATE ON pages BEGIN
    UPDATE pages_fts SET title = new.title, content = new.content
    WHERE rowid = new.rowid;
END;

CREATE TRIGGER pages_fts_delete AFTER DELETE ON pages BEGIN
    DELETE FROM pages_fts WHERE rowid = old.rowid;
END;
```

#### 4. é…ç½®è¡¨
```sql
CREATE TABLE app_config (
    key TEXT PRIMARY KEY,
    value TEXT NOT NULL,
    updated_at INTEGER NOT NULL
);

-- é»˜è®¤é…ç½®
INSERT INTO app_config (key, value, updated_at) VALUES
('theme', 'light', strftime('%s', 'now')),
('auto_save_interval', '5000', strftime('%s', 'now')),
('search_debounce_delay', '300', strftime('%s', 'now'));
```

### æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–

#### è¿æ¥æ± é…ç½®
```rust
let pool = SqlitePoolOptions::new()
    .max_connections(5)
    .min_connections(1)
    .acquire_timeout(Duration::from_secs(30))
    .idle_timeout(Duration::from_secs(600))
    .max_lifetime(Duration::from_secs(1800))
    .connect(&database_url)
    .await?;
```

#### WALæ¨¡å¼é…ç½®
```sql
PRAGMA journal_mode = WAL;
PRAGMA synchronous = NORMAL;
PRAGMA cache_size = 10000;
PRAGMA temp_store = memory;
PRAGMA mmap_size = 268435456; -- 256MB
```

## ğŸ”§ APIè®¾è®¡

### Tauri Commands

#### é¡µé¢ç®¡ç†API
```rust
// åˆ›å»ºé¡µé¢
#[command]
async fn create_page(
    title: String,
    parent_id: Option<String>,
    state: State<'_, AppState>
) -> Result<Page, String>

// æ›´æ–°é¡µé¢
#[command]
async fn update_page(
    id: String,
    title: Option<String>,
    content: Option<String>,
    state: State<'_, AppState>
) -> Result<Page, String>

// åˆ é™¤é¡µé¢
#[command]
async fn delete_page(
    id: String,
    state: State<'_, AppState>
) -> Result<(), String>

// è·å–é¡µé¢åˆ—è¡¨
#[command]
async fn get_pages(
    parent_id: Option<String>,
    state: State<'_, AppState>
) -> Result<Vec<Page>, String>
```

#### æœç´¢API
```rust
// æœç´¢é¡µé¢
#[command]
async fn search_pages(
    query: String,
    limit: Option<u32>,
    state: State<'_, AppState>
) -> Result<Vec<SearchResult>, String>

// è·å–æœç´¢å»ºè®®
#[command]
async fn get_search_suggestions(
    query: String,
    state: State<'_, AppState>
) -> Result<Vec<String>, String>
```

#### æ–‡ä»¶æ“ä½œAPI
```rust
// å¯¼å…¥Markdownæ–‡ä»¶
#[command]
async fn import_markdown(
    file_path: String,
    state: State<'_, AppState>
) -> Result<Page, String>

// å¯¼å‡ºé¡µé¢ä¸ºMarkdown
#[command]
async fn export_page(
    page_id: String,
    file_path: String,
    state: State<'_, AppState>
) -> Result<(), String>

// å¤‡ä»½æ•°æ®
#[command]
async fn backup_data(
    backup_path: String,
    state: State<'_, AppState>
) -> Result<(), String>
```

### å‰ç«¯APIè°ƒç”¨

#### TypeScriptç±»å‹å®šä¹‰
```typescript
interface Page {
  id: string
  title: string
  content: string
  parent_id?: string
  position: number
  created_at: number
  updated_at: number
}

interface SearchResult {
  id: string
  title: string
  excerpt: string
  score: number
  page_id: string
}

interface Block {
  id: string
  page_id: string
  type: 'text' | 'heading' | 'list' | 'quote' | 'code'
  content: string
  position: number
  properties: Record<string, any>
}
```

#### APIè°ƒç”¨å°è£…
```typescript
import { invoke } from '@tauri-apps/api/tauri'

export class PageAPI {
  static async createPage(title: string, parentId?: string): Promise<Page> {
    return invoke('create_page', { title, parent_id: parentId })
  }

  static async updatePage(id: string, updates: Partial<Page>): Promise<Page> {
    return invoke('update_page', { id, ...updates })
  }

  static async deletePage(id: string): Promise<void> {
    return invoke('delete_page', { id })
  }

  static async getPages(parentId?: string): Promise<Page[]> {
    return invoke('get_pages', { parent_id: parentId })
  }
}
```

## ğŸ¨ ç”¨æˆ·ç•Œé¢è®¾è®¡

### è®¾è®¡ç³»ç»Ÿ

#### é¢œè‰²ç³»ç»Ÿ
```css
:root {
  /* ä¸»è‰²è°ƒ */
  --primary-50: #eff6ff;
  --primary-500: #3b82f6;
  --primary-900: #1e3a8a;

  /* ç°åº¦è‰²è°ƒ */
  --gray-50: #f9fafb;
  --gray-500: #6b7280;
  --gray-900: #111827;

  /* è¯­ä¹‰è‰²å½© */
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;
}

[data-theme="dark"] {
  --gray-50: #111827;
  --gray-500: #9ca3af;
  --gray-900: #f9fafb;
}
```

#### å­—ä½“ç³»ç»Ÿ
```css
.font-system {
  font-family:
    "PingFang SC",
    "Hiragino Sans GB",
    "Microsoft YaHei",
    "WenQuanYi Micro Hei",
    sans-serif;
}

.font-mono {
  font-family:
    "SF Mono",
    "Monaco",
    "Inconsolata",
    "Roboto Mono",
    monospace;
}
```

#### é—´è·ç³»ç»Ÿ
```css
.spacing {
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
}
```

### å“åº”å¼è®¾è®¡

#### æ–­ç‚¹ç³»ç»Ÿ
```css
/* ç§»åŠ¨ç«¯ */
@media (max-width: 640px) {
  .container { padding: 1rem; }
}

/* å¹³æ¿ç«¯ */
@media (min-width: 641px) and (max-width: 1024px) {
  .container { padding: 1.5rem; }
}

/* æ¡Œé¢ç«¯ */
@media (min-width: 1025px) {
  .container { padding: 2rem; }
}
```

#### ç»„ä»¶é€‚é…
```typescript
const SearchComponent: React.FC = () => {
  return (
    <div className="
      fixed inset-0 bg-black bg-opacity-50 z-50
      flex items-start justify-center
      pt-4 sm:pt-20
    ">
      <div className="
        bg-white dark:bg-gray-800 rounded-lg shadow-xl
        w-full max-w-2xl mx-2 sm:mx-4
        max-h-[95vh] sm:max-h-[70vh]
        flex flex-col
      ">
        {/* æœç´¢å†…å®¹ */}
      </div>
    </div>
  )
}
```

## ğŸš€ æ€§èƒ½è§„æ ¼

### æ€§èƒ½ç›®æ ‡

#### å¯åŠ¨æ€§èƒ½
| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å®é™…å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| å†·å¯åŠ¨æ—¶é—´ | <3ç§’ | ~2.9ç§’ | âœ… |
| çƒ­å¯åŠ¨æ—¶é—´ | <1ç§’ | ~0.4ç§’ | âœ… |
| é¦–å±æ¸²æŸ“ | <2ç§’ | ~0.6ç§’ | âœ… |
| åˆå§‹å†…å­˜ | <100MB | ~73MB | âœ… |

#### è¿è¡Œæ—¶æ€§èƒ½
| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å®é™…å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| æœç´¢å“åº” | <100ms | ~67ms | âœ… |
| é¡µé¢åˆ‡æ¢ | <200ms | ~71ms | âœ… |
| è¿è¡Œæ—¶å†…å­˜ | <200MB | ~196MB | âœ… |
| CPUä½¿ç”¨ç‡ | <10% | ~3.9% | âœ… |

#### åº”ç”¨å¤§å°
| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å®é™…å€¼ | çŠ¶æ€ |
|------|--------|--------|------|
| å‰ç«¯åŒ…å¤§å° | <50KB | ~20KB | âœ… |
| å®‰è£…åŒ…å¤§å° | <50MB | ~15-30MB | âœ… |
| æ•°æ®åº“å¤§å° | åŠ¨æ€å¢é•¿ | æŒ‰éœ€å¢é•¿ | âœ… |

### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

#### å‰ç«¯ä¼˜åŒ–
1. **ä»£ç åˆ†å‰²**: ä½¿ç”¨React.lazy()æ‡’åŠ è½½é‡å‹ç»„ä»¶
2. **è™šæ‹ŸåŒ–**: ä½¿ç”¨react-windowå¤„ç†å¤§é‡åˆ—è¡¨æ•°æ®
3. **ç¼“å­˜ç­–ç•¥**: å®ç°LRUç¼“å­˜å‡å°‘é‡å¤è®¡ç®—
4. **é˜²æŠ–ä¼˜åŒ–**: æœç´¢è¾“å…¥ä½¿ç”¨300msé˜²æŠ–

#### åç«¯ä¼˜åŒ–
1. **æ•°æ®åº“ç´¢å¼•**: ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µåˆ›å»ºç´¢å¼•
2. **è¿æ¥æ± **: ä½¿ç”¨è¿æ¥æ± ç®¡ç†æ•°æ®åº“è¿æ¥
3. **å¼‚æ­¥å¤„ç†**: æ‰€æœ‰I/Oæ“ä½œä½¿ç”¨å¼‚æ­¥æ¨¡å¼
4. **å†…å­˜ç®¡ç†**: åŠæ—¶é‡Šæ”¾ä¸éœ€è¦çš„èµ„æº

#### å†…å­˜ä¼˜åŒ–
1. **æ™ºèƒ½ç¼“å­˜**: é™åˆ¶ç¼“å­˜å¤§å°å’Œç”Ÿå­˜æ—¶é—´
2. **åƒåœ¾å›æ”¶**: å®šæœŸæ¸…ç†æ— ç”¨æ•°æ®
3. **å†…å­˜ç›‘æ§**: å®æ—¶ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ
4. **æ³„æ¼æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹å’ŒæŠ¥å‘Šå†…å­˜æ³„æ¼

## ğŸ›¡ï¸ å®‰å…¨è§„æ ¼

### å®‰å…¨æ¶æ„

#### Tauriå®‰å…¨æ¨¡å‹
```json
{
  "security": {
    "csp": "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"
  },
  "allowlist": {
    "all": false,
    "fs": {
      "scope": ["$APPDATA/*", "$DOCUMENT/*"],
      "readFile": true,
      "writeFile": true,
      "readDir": true
    },
    "shell": {
      "open": true
    }
  }
}
```

#### æ•°æ®å®‰å…¨
1. **æœ¬åœ°å­˜å‚¨**: æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°
2. **æ•°æ®åŠ å¯†**: æ•æ„Ÿé…ç½®ä½¿ç”¨AESåŠ å¯†
3. **è®¿é—®æ§åˆ¶**: ä¸¥æ ¼çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™
4. **è¾“å…¥éªŒè¯**: æ‰€æœ‰ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯å’Œæ¸…ç†

### å®‰å…¨å¨èƒåˆ†æ

| å¨èƒç±»å‹ | é£é™©ç­‰çº§ | ç¼“è§£æªæ–½ | çŠ¶æ€ |
|----------|----------|----------|------|
| XSSæ”»å‡» | ä¸­ | CSPç­–ç•¥ + è¾“å…¥æ¸…ç† | âœ… |
| SQLæ³¨å…¥ | ä½ | å‚æ•°åŒ–æŸ¥è¯¢ | âœ… |
| æ–‡ä»¶ç³»ç»Ÿæ”»å‡» | ä¸­ | è·¯å¾„éªŒè¯ + æƒé™æ§åˆ¶ | âœ… |
| å†…å­˜æ³„æ¼ | ä½ | è‡ªåŠ¨å†…å­˜ç®¡ç† | âœ… |

## ğŸ§ª æµ‹è¯•è§„æ ¼

### æµ‹è¯•ç­–ç•¥

#### æµ‹è¯•é‡‘å­—å¡”
```
        /\
       /  \
      / E2E \     ç«¯åˆ°ç«¯æµ‹è¯• (10%)
     /______\
    /        \
   / é›†æˆæµ‹è¯•  \   é›†æˆæµ‹è¯• (20%)
  /____________\
 /              \
/    å•å…ƒæµ‹è¯•     \  å•å…ƒæµ‹è¯• (70%)
/________________\
```

#### æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡
| æµ‹è¯•ç±»å‹ | ç›®æ ‡è¦†ç›–ç‡ | å½“å‰è¦†ç›–ç‡ | çŠ¶æ€ |
|----------|------------|------------|------|
| å‰ç«¯å•å…ƒæµ‹è¯• | 85% | 71.9% | ğŸ”„ |
| åç«¯å•å…ƒæµ‹è¯• | 90% | 85%+ | âœ… |
| é›†æˆæµ‹è¯• | 80% | 75%+ | ğŸ”„ |
| E2Eæµ‹è¯• | 60% | 50%+ | ğŸ”„ |

### æµ‹è¯•ç¯å¢ƒ

#### å‰ç«¯æµ‹è¯•é…ç½®
```typescript
// vitest.config.ts
export default defineConfig({
  test: {
    environment: 'jsdom',
    setupFiles: ['./src/test/setup.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: ['node_modules/', 'src/test/']
    }
  }
})
```

#### åç«¯æµ‹è¯•é…ç½®
```rust
// Cargo.toml
[dev-dependencies]
tokio-test = "0.4"
sqlx = { version = "0.7", features = ["testing"] }

// æµ‹è¯•é…ç½®
#[cfg(test)]
mod tests {
    use super::*;
    use sqlx::SqlitePool;

    async fn setup_test_db() -> SqlitePool {
        SqlitePool::connect(":memory:").await.unwrap()
    }
}
```

## ğŸ“¦ éƒ¨ç½²è§„æ ¼

### æ„å»ºé…ç½®

#### å‰ç«¯æ„å»º
```typescript
// vite.config.ts
export default defineConfig({
  build: {
    target: 'esnext',
    minify: 'terser',
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          utils: ['lodash', 'date-fns']
        }
      }
    }
  }
})
```

#### Tauriæ„å»º
```toml
# Cargo.toml
[profile.release]
opt-level = 3
lto = true
codegen-units = 1
panic = "abort"
strip = true
```

### å¹³å°æ”¯æŒ

#### Windows
- **æœ€ä½ç‰ˆæœ¬**: Windows 10 (1903)
- **æ¶æ„**: x86_64
- **å®‰è£…åŒ…**: .msi, .exe
- **ä¾èµ–**: WebView2 Runtime

#### macOS
- **æœ€ä½ç‰ˆæœ¬**: macOS 10.15 (Catalina)
- **æ¶æ„**: x86_64, aarch64 (Apple Silicon)
- **å®‰è£…åŒ…**: .dmg, .app
- **ç­¾å**: Apple Developer Certificate

#### Linux
- **å‘è¡Œç‰ˆ**: Ubuntu 20.04+, Fedora 35+, Arch Linux
- **æ¶æ„**: x86_64
- **å®‰è£…åŒ…**: .deb, .rpm, .AppImage
- **ä¾èµ–**: webkit2gtk

### è‡ªåŠ¨æ›´æ–°

#### æ›´æ–°æœºåˆ¶
```json
{
  "updater": {
    "active": true,
    "endpoints": [
      "https://releases.minglog.com/{{target}}/{{current_version}}"
    ],
    "dialog": true,
    "pubkey": "dW50cnVzdGVkIGNvbW1lbnQ6IG1pbmlzaWduIHB1YmxpYyBrZXk6IDFBQ0VGMTU3QTdBNDMxNzQ="
  }
}
```

## ğŸ“Š ç›‘æ§è§„æ ¼

### æ€§èƒ½ç›‘æ§

#### æŒ‡æ ‡æ”¶é›†
```typescript
interface PerformanceMetrics {
  // å†…å­˜æŒ‡æ ‡
  memoryUsage: {
    used: number
    total: number
    percentage: number
  }

  // æ¸²æŸ“æŒ‡æ ‡
  renderMetrics: {
    fps: number
    renderTime: number
    componentCount: number
  }

  // æ•°æ®åº“æŒ‡æ ‡
  databaseMetrics: {
    queryTime: number
    connectionCount: number
    cacheHitRate: number
  }
}
```

#### é”™è¯¯ç›‘æ§
```rust
pub struct ErrorTracker {
    errors: Vec<ErrorInfo>,
    max_errors: usize,
}

impl ErrorTracker {
    pub fn capture_error(&mut self, error: Error, context: ErrorContext) {
        let error_info = ErrorInfo {
            message: error.to_string(),
            timestamp: SystemTime::now(),
            context,
            stack_trace: error.backtrace(),
        };

        self.errors.push(error_info);

        if self.errors.len() > self.max_errors {
            self.errors.remove(0);
        }
    }
}
```

### æ—¥å¿—ç³»ç»Ÿ

#### æ—¥å¿—çº§åˆ«
```rust
use log::{error, warn, info, debug, trace};

// é”™è¯¯çº§åˆ« - ä¸¥é‡é”™è¯¯
error!("Database connection failed: {}", err);

// è­¦å‘Šçº§åˆ« - æ½œåœ¨é—®é¢˜
warn!("Memory usage high: {}MB", memory_mb);

// ä¿¡æ¯çº§åˆ« - é‡è¦äº‹ä»¶
info!("User created new page: {}", page_id);

// è°ƒè¯•çº§åˆ« - è°ƒè¯•ä¿¡æ¯
debug!("Search query: {}", query);

// è·Ÿè¸ªçº§åˆ« - è¯¦ç»†è·Ÿè¸ª
trace!("Function entry: create_page");
```

## ğŸ”„ ç»´æŠ¤è§„æ ¼

### ç‰ˆæœ¬ç®¡ç†

#### è¯­ä¹‰åŒ–ç‰ˆæœ¬
```
MAJOR.MINOR.PATCH

MAJOR: ä¸å…¼å®¹çš„APIå˜æ›´
MINOR: å‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢
PATCH: å‘åå…¼å®¹çš„é”™è¯¯ä¿®å¤
```

#### å‘å¸ƒå‘¨æœŸ
- **ä¸»ç‰ˆæœ¬**: æ¯å¹´1-2æ¬¡
- **æ¬¡ç‰ˆæœ¬**: æ¯å­£åº¦1æ¬¡
- **è¡¥ä¸ç‰ˆæœ¬**: æŒ‰éœ€å‘å¸ƒ
- **å®‰å…¨æ›´æ–°**: ç«‹å³å‘å¸ƒ

### æ•°æ®åº“è¿ç§»

#### è¿ç§»è„šæœ¬
```rust
pub struct Migration {
    pub version: u32,
    pub description: String,
    pub up_sql: String,
    pub down_sql: String,
}

pub async fn run_migrations(pool: &SqlitePool) -> Result<(), sqlx::Error> {
    sqlx::migrate!("./migrations").run(pool).await
}
```

#### å¤‡ä»½ç­–ç•¥
1. **è‡ªåŠ¨å¤‡ä»½**: æ¯æ—¥è‡ªåŠ¨å¤‡ä»½
2. **ç‰ˆæœ¬å¤‡ä»½**: å‡çº§å‰è‡ªåŠ¨å¤‡ä»½
3. **æ‰‹åŠ¨å¤‡ä»½**: ç”¨æˆ·ä¸»åŠ¨å¤‡ä»½
4. **äº‘å¤‡ä»½**: å¯é€‰çš„äº‘ç«¯å¤‡ä»½

## ğŸ“‹ åˆè§„æ€§è§„æ ¼

### æ— éšœç¢è®¿é—®

#### WCAG 2.1 AAæ ‡å‡†
| åŸåˆ™ | æŒ‡å¯¼æ–¹é’ˆ | ç¬¦åˆæ€§ | å®ç°æ–¹å¼ |
|------|----------|--------|----------|
| å¯æ„ŸçŸ¥ | æ–‡æœ¬æ›¿ä»£ | âœ… | altå±æ€§, aria-label |
| å¯æ“ä½œ | é”®ç›˜è®¿é—® | âœ… | å®Œæ•´é”®ç›˜å¯¼èˆª |
| å¯ç†è§£ | å¯è¯»æ€§ | âœ… | è¯­ä¹‰åŒ–HTML |
| å¥å£®æ€§ | å…¼å®¹æ€§ | âœ… | æ ‡å‡†WebæŠ€æœ¯ |

#### è¾…åŠ©æŠ€æœ¯æ”¯æŒ
- **å±å¹•é˜…è¯»å™¨**: NVDA, JAWS, VoiceOver
- **è¯­éŸ³è¯†åˆ«**: Dragon NaturallySpeaking
- **é”®ç›˜å¯¼èˆª**: å®Œæ•´çš„é”®ç›˜æ“ä½œæ”¯æŒ
- **é«˜å¯¹æ¯”åº¦**: ç³»ç»Ÿé«˜å¯¹æ¯”åº¦æ¨¡å¼æ”¯æŒ

### éšç§ä¿æŠ¤

#### æ•°æ®å¤„ç†åŸåˆ™
1. **æ•°æ®æœ€å°åŒ–**: åªæ”¶é›†å¿…è¦çš„æ•°æ®
2. **æœ¬åœ°ä¼˜å…ˆ**: æ•°æ®å­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°
3. **é€æ˜åº¦**: æ˜ç¡®çš„éšç§æ”¿ç­–
4. **ç”¨æˆ·æ§åˆ¶**: ç”¨æˆ·å®Œå…¨æ§åˆ¶è‡ªå·±çš„æ•°æ®

#### æ•°æ®ç±»å‹
- **ç”¨æˆ·å†…å®¹**: é¡µé¢ã€å—ã€æœç´¢å†å²
- **åº”ç”¨è®¾ç½®**: ä¸»é¢˜ã€å¿«æ·é”®ã€ç•Œé¢é…ç½®
- **æ€§èƒ½æ•°æ®**: åŒ¿åçš„æ€§èƒ½æŒ‡æ ‡
- **é”™è¯¯æ—¥å¿—**: ä¸åŒ…å«ç”¨æˆ·å†…å®¹çš„é”™è¯¯ä¿¡æ¯

## ğŸ“š æ–‡æ¡£è§„æ ¼

### æ–‡æ¡£ç»“æ„
```
docs/
â”œâ”€â”€ user-manual.md          # ç”¨æˆ·æ‰‹å†Œ
â”œâ”€â”€ developer-guide.md      # å¼€å‘è€…æŒ‡å—
â”œâ”€â”€ technical-specification.md # æŠ€æœ¯è§„æ ¼ä¹¦
â”œâ”€â”€ deployment-guide.md     # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ api-reference.md        # APIå‚è€ƒ
â”œâ”€â”€ troubleshooting.md      # æ•…éšœæ’é™¤
â””â”€â”€ changelog.md            # å˜æ›´æ—¥å¿—
```

### æ–‡æ¡£ç»´æŠ¤
- **æ›´æ–°é¢‘ç‡**: æ¯ä¸ªç‰ˆæœ¬å‘å¸ƒæ—¶æ›´æ–°
- **å¤šè¯­è¨€**: ä¸­æ–‡ä¸ºä¸»ï¼Œè‹±æ–‡ä¸ºè¾…
- **æ ¼å¼æ ‡å‡†**: Markdown + å›¾è¡¨
- **ç‰ˆæœ¬æ§åˆ¶**: ä¸ä»£ç åŒæ­¥ç‰ˆæœ¬ç®¡ç†

---

**æœ¬æŠ€æœ¯è§„æ ¼ä¹¦ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç»´æŠ¤è€…**: MingLogå¼€å‘å›¢é˜Ÿ